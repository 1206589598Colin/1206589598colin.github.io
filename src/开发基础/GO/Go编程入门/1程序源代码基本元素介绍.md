# 程序源代码基本元素介绍

## 编程和程序代码元素

有名字的函数、有名字的值（包括变量和有名常量）、以及定义类型和类型别名将被统称为资源。 资源名必须为 **[标识符（identifier）](https://gfw.go101.org/article/keywords-and-identifiers.html#identifier)**

## 一个简单的Go示例程序

## 注释

* `//`来起始一个行注释
* 使用一个`/*`和`*/`对来包裹一个块注释

``` go
package main // 指定当前源文件所在的包名

import "math/rand" // 引入一个标准库包

const MaxRand = 16 // 声明一个有名整型常量

// 一个函数声明
/*
 StatRandomNumbers生成一些不大于MaxRand的非负
 随机整数，并统计和返回小于和大于MaxRand/2的随机数
 个数。输入参数numRands指定了要生成的随机数的总数。
*/
func StatRandomNumbers(numRands int) (int, int) {
	// 声明了两个变量（类型都为int，初始值都为0）
	var a, b int
	// 一个for循环代码块
	for i := 0; i < numRands; i++ {
		// 一个if-else条件控制代码块
		if rand.Intn(MaxRand) < MaxRand/2 {
			a = a + 1
		} else {
			b++ // 等价于：b = b + 1
		}
	}
	return a, b // 此函数返回两个结果
}

// main函数，或主函数，是一个程序的入口函数。
func main() {
	var num = 100
	// 调用上面声明的StatRandomNumbers函数，
	// 并将结果赋给使用短声明语句声明的两个变量。
	x, y := StatRandomNumbers(num)
	// 调用两个内置函数（print和println）。
	print("Result: ", x, " + ", y, " = ", num, "? ")
	println(x+y == num)
}
```

在上面的示例程序中，单词 `package` 、 `import` 、 `const` 、 `func` 、 `var` 、 `for` 、 `if` 、 `else` 和 `return` 均为关键字。 其它大多数单词均为标识符。 请阅读[关键字和标识符](https://gfw.go101.org/article/keywords-and-identifiers.html)以获得更多关于关键字和标识符的信息。

四个 `int` （一个在第*15*行，另三个在第*13*行） 表示内置基本类型 `int` 。int类型是Go中的基本整数类型之一。 第*5*行中的 `16` 、第*17*行中的 `0` 、 第*20*行中的 `1` 以及第*30*行的 `100` 均为整型字面量。 第*35*行的 `"Result: "` 是一个字符串字面量。 请阅读[基本类型和它们的字面量表示](https://gfw.go101.org/article/basic-types-and-value-literals.html)以获取更多关于基本类型和它们的字面量的信息。 Go中的非基本类型（均为组合类型）将在以后的其它文章中介绍和解释。

第*20*行是一个赋值语句。 第*5*行声明了一个有名常量，叫做 `MaxRand` 。 第*15*行和第*30*行使用标准变量声明语句声明了三个变量。 第*17*行的变量 `i` 以及第*33*行的变量 `x` 和 `y` 是使用变量短声明语句声明的。 变量 `a` 和 `b` 在声明的时候被指定为 `int` 类型。 编译器会自动推导出变量 `i` 、 `num` 、 `x` 和 `y` 的类型均为 `int` 类型，因为它们的初始值都是整型字面量表示的。 请阅读[常量和变量](https://gfw.go101.org/article/constants-and-variables.html)以获取什么是类型不确定值、类型推导、赋值、以及如何声明变量和有名常量。

上面的示例程序中使用了很多操作符，比如第*17*和*19*行的小于比较符 `<` ，第*36*行的等于比较符 `==` ，还有第*20*和*36*行的加法运算符 `+` 。 第*35*行中的 `+` 不是一个运算符，它是一个字符串字面量中的一个字符。 一个使用操作符的操作中涉及到的值称为操作值（有时也可称为运算数）。 请阅读[常用操作符](https://gfw.go101.org/article/operators.html)以获取更多关于操作符的信息。 更多操作符将在后续其它文章中介绍。

第*35*和*36*行调用了两个内置函数 `print` 和 `println` 。 从第*13*行到第*26*行声明的函数 `StatRandomNumbers` 在第*33*行被调用。 第*19*行也调用了一个函数  `Intn` 。 这个函数声明在 `math/rand` 标准库包中。 请阅读[函数声明及函数调用](https://gfw.go101.org/article/function-declarations-and-calls.html)以获取更多关于函数声明及函数调用的信息。

* 注意，一般 `print` 和 `println` 这两个内置函数并不推荐使用。 在正式的项目中，我们应该尽量使用 `fmt` 标准库包中声明的相应函数。 *

## 关于代码断行

像很多其它流行编程语言一样，Go也使用一对大括号 `{` and `}` 来形成一个显式代码块。但是在Go代码中，编码样式风格有一些限制。 比如，很多左大括号 `{` 不能被放到下一行。 如果，上面的 `StatRandomNumbers` 被修改成如下所示，则上面的示例程序将编译不通过。

``` go
func StatRandomNumbers(numRands int) (int, int)
{ // 编译错误：语法错误
	var a, b int
	for i := 0; i < numRands; i++
	{ // 编译错误：语法错误
		if rand.Intn(MaxRand) < MaxRand/2
		{ // 编译错误：语法错误
			a = a + 1
		} else {
			b++
		}
	}
	return a, b
}
```

一些程序员不是很喜欢这些限制。但是这些限制有两个好处：

1. 它们使得Go程序编译得非常快。
2. 它们使得不同的Go程序员编写的代码风格类似，从而一个Go程序员写的代码很容易被另一个程序员看懂。

我们可以阅读[代码断行规则](https://gfw.go101.org/article/line-break-rules.html)一文以获取更多关于代码换行规则的细节。在目前，我们最好避免将左大括号放在下一行。 或者说，每行的非空起始字符不能是左大括号（但是，请记住，这不是一个普适的规则）。
